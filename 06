import cv2
from skimage import data
import matplotlib.pyplot as plt

# Load sample grayscale image
img = data.coins()   # already grayscale

# Apply Otsu's thresholding
retval, otsu_img = cv2.threshold(img, 0, 255, cv2.THRESH_BINARY + cv2.THRESH_OTSU)

print("Otsu Threshold Value:", retval)

# Plot results
plt.figure(figsize=(10,5))
plt.subplot(1,2,1)
plt.title("Original Image")
plt.imshow(img, cmap='gray')

plt.subplot(1,2,2)
plt.title("After Otsu Thresholding")
plt.imshow(otsu_img, cmap='gray')
plt.show()
